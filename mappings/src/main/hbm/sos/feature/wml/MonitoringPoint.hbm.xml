<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="org.n52.series.db.beans">
    <subclass name="org.n52.series.db.beans.feature.wml.MonitoringPoint"
    				 extends="AbstractFeatureEntity"
                     discriminator-value="WmlMonitoringPointEntity">
        <join table="wmlmonitoringpoint">
            <key foreign-key="wmlmpFeatureFk">
                <column name="feature">
                    <comment>Foreign Key (FK) to the related featureOfInterest
                        from the featureOfInterest table. Contains
                        "featureOfInterest".featureOfInterestId</comment>
                </column>
            </key>
            <component name="content" class="org.n52.series.db.beans.feature.MonitoringPointContent">
                <set name="relatedParty" table="wmlmprelatedparty">
                    <key foreign-key="wmlmprpfFk">
                        <column name="feature" not-null="true" />
                    </key>
                    <many-to-many class="org.n52.series.db.beans.feature.gmd.ResponsiblePartyEntity"
                        foreign-key="wmlmprprpFk">
                        <column name="responsibleParty" not-null="true" />
                    </many-to-many>
                </set>
                <set name="verticalDatum" table="wmlmpverticaldatum">
                    <key foreign-key="wmlmpvdfFk">
                        <column name="feature"/>
                    </key>
                    <many-to-many class="org.n52.series.db.beans.feature.gml.VerticalDatumEntity" foreign-key="wmlmpvdvdFk">
                        <column name="verticalDatum" not-null="true" />
                    </many-to-many>
                </set>
            </component>
        </join>
    </subclass>
</hibernate-mapping>
